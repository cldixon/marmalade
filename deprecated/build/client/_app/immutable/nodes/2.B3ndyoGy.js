import"../chunks/DsnmJJEf.js";import{i as Xr}from"../chunks/8zFLh0hn.js";import{o as Kr,e as re,s as T}from"../chunks/CmHViV2Q.js";import{c as or,h as me,aa as Zr,ai as Cr,a as ea,b as ra,t as e,aF as Se,r as aa,H as ta,s as xr,d as sr,M as Ie,P as ia,al as na,Q as mr,aT as oa,aU as Te,ag as zr,a8 as Tr,aP as fe,I as yr,N as sa,aV as Er,S as da,aW as la,aX as dr,_ as Dr,aY as va,aZ as ca,ac as ua,a_ as pa,af as fa,a$ as ma,O as ga,b0 as Fr,aA as ba,b1 as Sr,b2 as _a,b3 as ha,a5 as ka,L as xa,b4 as ya,b5 as wa,b6 as $a,b7 as Aa,b8 as Ca,az as za,o as r,J as Ta,y as Ea,b9 as lr,ba as Da,k as X,z as I,j as C,A as Fa,v as $,C as s,F as u,aH as j,D as o,bb as Sa,g as Me,e as je,bc as Ma,aS as ze,aR as La,bd as Wa}from"../chunks/D-GPnKkH.js";import{i as G}from"../chunks/2h9hLit5.js";function Xe(a,n){return n}function Oa(a,n,i){for(var c=a.items,v=[],l=n.length,m=0;m<l;m++)pa(n[m].e,v,!0);var p=l>0&&v.length===0&&i!==null;if(p){var h=i.parentNode;fa(h),h.append(i),c.clear(),we(a,n[0].prev,n[l-1].next)}ma(v,()=>{for(var x=0;x<l;x++){var F=n[x];p||(c.delete(F.k),we(a,F.prev,F.next)),Dr(F.e,!p)}})}function Ke(a,n,i,c,v,l=null){var m=a,p={flags:n,items:new Map,first:null};{var h=a;m=me?or(Zr(h)):h.appendChild(Cr())}me&&ea();var x=null,F=!1,A=new Map,b=Se(()=>{var t=i();return Tr(t)?t:t==null?[]:zr(t)}),L,D;function S(){Pa(D,L,p,A,m,v,n,c,i),l!==null&&(L.length===0?x?Er(x):x=mr(()=>l(m)):x!==null&&da(x,()=>{x=null}))}ra(()=>{D??=ga,L=e(b);var t=L.length;if(F&&t===0)return;F=t===0;let he=!1;if(me){var ne=aa(m)===ta;ne!==(t===0)&&(m=xr(),or(m),sr(!1),he=!0)}if(me){for(var M=null,V,W=0;W<t;W++){if(Ie.nodeType===ia&&Ie.data===na){m=Ie,he=!0,sr(!1);break}var ve=L[W],oe=c(ve,W);V=gr(Ie,p,M,null,ve,oe,W,v,n,i),p.items.set(oe,V),M=V}t>0&&or(xr())}if(me)t===0&&l&&(x=mr(()=>l(m)));else if(oa()){var $e=new Set,K=Te;for(W=0;W<t;W+=1){ve=L[W],oe=c(ve,W);var Ae=p.items.get(oe)??A.get(oe);Ae?Mr(Ae,ve,W):(V=gr(null,p,null,null,ve,oe,W,v,n,i,!0),A.set(oe,V)),$e.add(oe)}for(const[Ee,De]of p.items)$e.has(Ee)||K.skipped_effects.add(De.e);K.add_callback(S)}else S();he&&sr(!0),e(b)}),me&&(m=Ie)}function Pa(a,n,i,c,v,l,m,p,h){var x=n.length,F=i.items,A=i.first,b=A,L,D=null,S=[],t=[],he,ne,M,V;for(V=0;V<x;V+=1){if(he=n[V],ne=p(he,V),M=F.get(ne),M===void 0){var W=c.get(ne);if(W!==void 0){c.delete(ne),F.set(ne,W);var ve=D?D.next:b;we(i,D,W),we(i,W,ve),vr(W,ve,v),D=W}else{var oe=b?b.e.nodes_start:v;D=gr(oe,i,D,D===null?i.first:D.next,he,ne,V,l,m,h)}F.set(ne,D),S=[],t=[],b=D.next;continue}if(Mr(M,he,V),(M.e.f&dr)!==0&&Er(M.e),M!==b){if(L!==void 0&&L.has(M)){if(S.length<t.length){var $e=t[0],K;D=$e.prev;var Ae=S[0],Ee=S[S.length-1];for(K=0;K<S.length;K+=1)vr(S[K],$e,v);for(K=0;K<t.length;K+=1)L.delete(t[K]);we(i,Ae.prev,Ee.next),we(i,D,Ae),we(i,Ee,$e),b=$e,D=Ee,V-=1,S=[],t=[]}else L.delete(M),vr(M,b,v),we(i,M.prev,M.next),we(i,M,D===null?i.first:D.next),we(i,D,M),D=M;continue}for(S=[],t=[];b!==null&&b.k!==ne;)(b.e.f&dr)===0&&(L??=new Set).add(b),t.push(b),b=b.next;if(b===null)continue;M=b}S.push(M),D=M,b=M.next}if(b!==null||L!==void 0){for(var De=L===void 0?[]:zr(L);b!==null;)(b.e.f&dr)===0&&De.push(b),b=b.next;var Re=De.length;if(Re>0){var Pe=x===0?v:null;Oa(i,De,Pe)}}a.first=i.first&&i.first.e,a.last=D&&D.e;for(var Ue of c.values())Dr(Ue.e);c.clear()}function Mr(a,n,i,c){sa(a.v,n),a.i=i}function gr(a,n,i,c,v,l,m,p,h,x,F){var A=(h&va)!==0,b=(h&ca)===0,L=A?b?fe(v,!1,!1):yr(v):v,D=(h&la)===0?m:yr(m),S={i:D,v:L,k:l,a:null,e:null,prev:i,next:c};try{if(a===null){var t=document.createDocumentFragment();t.append(a=Cr())}return S.e=mr(()=>p(a,L,D,x),me),S.e.prev=i&&i.e,S.e.next=c&&c.e,i===null?F||(n.first=S):(i.next=S,i.e.next=S.e),c!==null&&(c.prev=S,c.e.prev=S.e),S}finally{}}function vr(a,n,i){for(var c=a.next?a.next.e.nodes_start:i,v=n?n.e.nodes_start:i,l=a.e.nodes_start;l!==null&&l!==c;){var m=ua(l);v.before(l),l=m}}function we(a,n,i){n===null?a.first=i:(n.next=i,n.e.next=i&&i.e),i!==null&&(i.prev=n,i.e.prev=n&&n.e)}function Ba(a,n){return a==null?null:String(a)}function d(a,n,i,c){var v=a.__style;if(me||v!==n){var l=Ba(n);(!me||l!==a.getAttribute("style"))&&(l==null?a.removeAttribute("style"):a.style.cssText=l),a.__style=n}return c}function Lr(a,n,i=!1){if(a.multiple){if(n==null)return;if(!Tr(n))return _a();for(var c of a.options)c.selected=n.includes(He(c));return}for(c of a.options){var v=He(c);if(ha(v,n)){c.selected=!0;return}}(!i||n!==void 0)&&(a.selectedIndex=-1)}function Na(a){var n=new MutationObserver(()=>{Lr(a,a.__value)});n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ka(()=>{n.disconnect()})}function qa(a,n,i=n){var c=new WeakSet,v=!0;Fr(a,"change",l=>{var m=l?"[selected]":":checked",p;if(a.multiple)p=[].map.call(a.querySelectorAll(m),He);else{var h=a.querySelector(m)??a.querySelector("option:not([disabled])");p=h&&He(h)}i(p),Te!==null&&c.add(Te)}),ba(()=>{var l=n();if(a===document.activeElement){var m=Sr??Te;if(c.has(m))return}if(Lr(a,l,v),v&&l===void 0){var p=a.querySelector(":checked");p!==null&&(l=He(p),i(l))}a.__value=l,v=!1}),Na(a)}function He(a){return"__value"in a?a.__value:a.value}const Ia=Symbol("is custom element"),ja=Symbol("is html");function wr(a){if(me){var n=!1,i=()=>{if(!n){if(n=!0,a.hasAttribute("value")){var c=a.value;rr(a,"value",null),a.value=c}if(a.hasAttribute("checked")){var v=a.checked;rr(a,"checked",null),a.checked=v}}};a.__on_r=i,xa(i),ya()}}function rr(a,n,i,c){var v=Ha(a);me&&(v[n]=a.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&a.nodeName==="LINK")||v[n]!==(v[n]=i)&&(n==="loading"&&(a[Aa]=i),i==null?a.removeAttribute(n):typeof i!="string"&&Ra(a).includes(n)?a[n]=i:a.setAttribute(n,i))}function Ha(a){return a.__attributes??={[Ia]:a.nodeName.includes("-"),[ja]:a.namespaceURI===wa}}var $r=new Map;function Ra(a){var n=a.getAttribute("is")||a.nodeName,i=$r.get(n);if(i)return i;$r.set(n,i=[]);for(var c,v=a,l=Element.prototype;l!==v;){c=Ca(v);for(var m in c)c[m].set&&i.push(m);v=$a(v)}return i}function cr(a,n,i=n){var c=new WeakSet;Fr(a,"input",async v=>{var l=v?a.defaultValue:a.value;if(l=ur(a)?pr(l):l,i(l),Te!==null&&c.add(Te),await za(),l!==(l=n())){var m=a.selectionStart,p=a.selectionEnd,h=a.value.length;if(a.value=l??"",p!==null){var x=a.value.length;m===p&&p===h&&x>h?(a.selectionStart=x,a.selectionEnd=x):(a.selectionStart=m,a.selectionEnd=Math.min(p,x))}}}),(me&&a.defaultValue!==a.value||r(n)==null&&a.value)&&(i(ur(a)?pr(a.value):a.value),Te!==null&&c.add(Te)),Ta(()=>{var v=n();if(a===document.activeElement){var l=Sr??Te;if(c.has(l))return}ur(a)&&v===pr(a.value)||a.type==="date"&&!v&&!a.value||v!==a.value&&(a.value=v??"")})}function ur(a){var n=a.type;return n==="number"||n==="range"}function pr(a){return a===""?null:+a}const Ua=!1,bt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ua},Symbol.toStringTag,{value:"Module"})),Ga={classic:{name:"Classic Paddington",primary:"#FF8C42",accent:"#1E40AF",dark:"#4A3728",light:"#FFF8E7",background:"#FFFBF5",cardBg:"white",border:"#FFF8E7",isDark:!1}},Ar=[{id:"bert-base",name:"BERT Base",model:"bert-base-uncased",contextWindow:512,description:"Original BERT - great for general embeddings"},{id:"mpnet",name:"MPNet (all-mpnet-base-v2)",model:"sentence-transformers/all-mpnet-base-v2",contextWindow:384,description:"Excellent sentence embeddings, balanced performance"},{id:"minilm",name:"MiniLM (all-MiniLM-L6-v2)",model:"sentence-transformers/all-MiniLM-L6-v2",contextWindow:256,description:"Fast and lightweight, good for most tasks"},{id:"e5-small",name:"E5 Small",model:"intfloat/e5-small-v2",contextWindow:512,description:"Microsoft E5 - strong multilingual support"},{id:"gte-small",name:"GTE Small",model:"thenlper/gte-small",contextWindow:512,description:"Alibaba GTE - high quality general embeddings"}],fr=[{id:"tokens",name:"Fixed Tokens",description:"Split by token count"},{id:"paragraph",name:"Paragraphs",description:"Split by paragraphs"},{id:"sentence",name:"Sentences",description:"Split by sentences"},{id:"hybrid",name:"Hybrid",description:"Sentences with token limit"}];function Va(a,n,i,c){if(!a)return[];let v=[];if(n==="paragraph")v=a.split(/\n\n+/).filter(l=>l.trim());else if(n==="sentence")v=a.match(/[^.!?]+[.!?]+/g)||[a];else if(n==="tokens"){const l=a.split(/\s+/),m=Math.floor(i/1.3);for(let p=0;p<l.length;p+=m-c){const h=l.slice(p,p+m).join(" ");h.trim()&&v.push(h)}}else if(n==="hybrid"){const l=a.match(/[^.!?]+[.!?]+/g)||[a];let m=[],p=0;const h=1.3;for(let x=0;x<l.length;x++){const F=l[x],b=F.split(/\s+/).length*h;p+b>i&&m.length>0?(v.push(m.join(" ")),m=[F],p=b):(m.push(F),p+=b)}m.length>0&&v.push(m.join(" "))}return v}function Ze(a,n){return a%2===0?{bg:n.light,border:n.primary}:{bg:n.background,border:n.accent}}function er(a,n,i,c){const v=a.split(/\s+/).filter(L=>L.length>0).length,l=a.length,m=a.match(/[.!?]+/g),p=m?m.length:0,h=Math.ceil(v*1.3),x=h/i;let F="Good";x>.7&&x<.95?F="Excellent":x<.5&&(F="Low"),!/[.!?]\s*$/.test(a.trim())&&n!=="tokens"&&(F="Warning");const b=n==="tokens"?c:0;return{words:v,chars:l,sentences:p,estimatedTokens:h,utilization:Math.round(x*100),quality:F,overlapTokens:b}}var Qa=X("<option> </option>"),Ya=X("<button><div> </div> <div> </div></button>"),Ja=X('<div><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;"><label>Overlap Tokens</label> <span> </span></div> <input type="range" min="0" step="16"/></div>'),Xa=X('<div><div style="margin-bottom: 1.5rem;"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;"><label>Max Tokens per Chunk</label> <span> </span></div> <input type="range" min="64" step="64"/></div> <!></div>'),Ka=X('<div><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3>Chunking Settings</h3> <button>Ã—</button></div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;"><div><label>Tokenizer Model</label> <select></select> <div><div>Model Details</div> <div> </div> <div> </div> <div><span> </span></div></div></div> <div><label>Chunking Strategy</label> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;"></div></div></div> <!></div>'),Za=X(" <!>",1),et=X('<div><div style="display: flex; gap: 2rem; align-items: center;"><div><div>Total Chunks</div> <div> </div></div> <div><div>Avg Words/Chunk</div> <div> </div></div></div> <div>Hover over chunks to see details</div></div>'),rt=X("<button> </button>"),at=X('<div><textarea placeholder="Paste your text here..."></textarea> <div><!></div></div>'),tt=X('<div style="display: flex; justify-content: space-between;"><span>Overlap:</span> <span style="font-weight: 600;"> </span></div>'),it=X('<span><div></div> <div style="display: flex; flex-direction: column; gap: 0.25rem;"><div style="display: flex; justify-content: space-between;"><span>Tokens:</span> <span style="font-weight: 600;"> </span></div> <div style="display: flex; justify-content: space-between;"><span>Words:</span> <span style="font-weight: 600;"> </span></div> <div style="display: flex; justify-content: space-between;"><span>Sentences:</span> <span style="font-weight: 600;"> </span></div> <!> <div><span>Quality:</span> <span> </span></div></div> <div>Click for details</div></span>'),nt=X("<span></span>"),ot=X('<span role="button" tabindex="0"><!> </span> <!>',1),st=X("<div></div>"),dt=X("<div><span> </span> <span> </span></div>"),lt=X('<div><h5>Overlap</h5> <div><div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span>With previous</span> <span> </span></div> <div style="display: flex; justify-content: space-between;"><span>Percentage</span> <span> </span></div></div></div>'),vt=X('<div data-side-panel=""><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h4> </h4> <button>Ã—</button></div> <div style="display: flex; flex-direction: column; gap: 1.5rem;"><div><h5>Statistics</h5> <div style="display: flex; flex-direction: column; gap: 0.5rem;"></div></div> <!> <div><h5>Quality Assessment</h5> <div><div> </div> <div><!></div></div></div> <div><h5>Actions</h5> <div style="display: flex; flex-direction: column; gap: 0.5rem;"><button>Copy Text</button> <button>Copy as JSON</button></div></div></div></div>'),ct=X('<div><header><div style="max-width: 1400px; margin: 0 auto;"><h1 style="margin: 0; font-size: 2rem; font-weight: bold;">ðŸ«™ Marmalade</h1> <p style="margin: 0.25rem 0 0 0; opacity: 0.9; font-size: 0.9rem;">Visualize your text chunks</p></div></header> <div style="max-width: 1400px; margin: 0 auto; padding: 2rem;"><!> <div><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h4>Active Configuration</h4> <button>Modify</button></div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;"><div><div>Tokenizer</div> <div> </div> <div> </div></div> <div><div>Strategy</div> <div> </div> <div><!></div></div></div></div> <!> <div><div><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h3> </h3> <div style="display: flex; gap: 0.5rem;"><button>Load Sample</button> <!></div></div> <!></div> <!></div></div></div>');function _t(a,n){Ea(n,!1);const i=fe(),c=fe();let v=fe(""),l=fe("tokens"),m=fe("mpnet"),p=fe(384),h=fe(0),x=fe(!1),F=fe(null),A=fe(null),b=fe(!1);function L(){j(b,!e(b))}function D(g){setTimeout(()=>{e(b)&&e(v)!==""&&j(b,!1)},100)}function S(g){const k=g.target.closest('span[role="button"]'),f=g.target.closest("[data-side-panel]");!k&&!f&&e(A)!==null&&j(A,null)}Kr(()=>(typeof document<"u"&&document.addEventListener("click",S),()=>{typeof document<"u"&&document.removeEventListener("click",S)}));const t=Ga.classic,he=`Marmalade sandwiches are Paddington Bear's favorite food in the world. Paddington's Aunt Lucy taught him how to make marmalade sandwiches back in the jungles of Darkest Peru. His Uncle Pastuzo always kept a marmalade sandwich under his red bucket hat 'in case of emergency'.

Oranges and sugar are used to make the marmalade, then it is spread between two pieces of bread to make a marmalade sandwich. To be a Proper Marmalade Sandwich, it must be made of the best marmalade you can find all around and fresh-sliced bread. Paddington likes the chipped Seville orange marmalade, with chunks of pith in.`;function ne(g){return g==="Excellent"?t.accent:g==="Warning"?"#F59E0B":g==="Low"?"#EF4444":t.primary}function M(g){navigator.clipboard.writeText(g)}lr(()=>e(m),()=>{j(i,Ar.find(g=>g.id===e(m)))}),lr(()=>e(i),()=>{e(i)&&j(p,e(i).contextWindow)}),lr(()=>(e(v),e(l),e(p),e(h)),()=>{j(c,Va(e(v),e(l),e(p),e(h)))}),Da(),Xr();var V=ct(),W=s(V),ve=u(W,2),oe=s(ve);{var $e=g=>{var k=Ka(),f=s(k),P=s(f),E=u(P,2);o(f);var _=u(f,2),w=s(_),y=s(w),H=u(y,2);I(()=>{e(m),Sa(()=>{})}),Ke(H,5,()=>Ar,Xe,(de,z)=>{var N=Qa(),Z=s(N);o(N);var le={};I(()=>{T(Z,`${e(z),r(()=>e(z).name)??""} (${e(z),r(()=>e(z).contextWindow)??""} tokens)`),le!==(le=(e(z),r(()=>e(z).id)))&&(N.value=(N.__value=(e(z),r(()=>e(z).id)))??"")}),C(de,N)}),o(H);var B=u(H,2),Q=s(B),ce=u(Q,2),ke=s(ce,!0);o(ce);var ge=u(ce,2),Ne=s(ge,!0);o(ge);var Ce=u(ge,2),R=s(Ce),se=s(R);o(R),o(Ce),o(B),o(w);var be=u(w,2),Fe=s(be),xe=u(Fe,2);Ke(xe,5,()=>fr,Xe,(de,z)=>{var N=Ya(),Z=s(N),le=s(Z,!0);o(Z);var ae=u(Z,2),q=s(ae,!0);o(ae),o(N),I(()=>{d(N,`padding: 0.75rem; border-radius: 8px; border: 2px solid ${e(l),e(z),r(()=>e(l)===e(z).id?t.primary:t.border)??""}; background-color: ${e(l),e(z),r(()=>e(l)===e(z).id?t.light:t.isDark?t.background:"white")??""}; cursor: pointer; text-align: left;`),d(Z,`font-weight: 600; color: ${r(()=>t.dark)??""}; font-size: 0.9rem;`),T(le,(e(z),r(()=>e(z).name))),d(ae,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-top: 0.25rem;`),T(q,(e(z),r(()=>e(z).description)))}),re("click",N,()=>j(l,e(z).id)),C(de,N)}),o(xe),o(be),o(_);var Le=u(_,2);{var We=de=>{var z=Xa(),N=s(z),Z=s(N),le=s(Z),ae=u(le,2),q=s(ae,!0);o(ae),o(Z);var J=u(Z,2);wr(J),o(N);var _e=u(N,2);{var ue=ee=>{var O=Ja(),U=s(O),pe=s(U),te=u(pe,2),ye=s(te,!0);o(te),o(U);var Y=u(U,2);wr(Y),o(O),I(ie=>{d(pe,`color: ${r(()=>t.dark)??""}; font-weight: 500; font-size: 0.9rem;`),d(te,`font-size: 0.9rem; font-weight: 600; color: ${r(()=>t.accent)??""}; background-color: ${r(()=>t.light)??""}; padding: 0.25rem 0.75rem; border-radius: 4px;`),T(ye,e(h)),rr(Y,"max",ie),d(Y,`width: 100%; accent-color: ${r(()=>t.primary)??""};`)},[()=>(e(p),r(()=>Math.min(128,Math.floor(e(p)/2))))]),cr(Y,()=>e(h),ie=>j(h,ie)),C(ee,O)};G(_e,ee=>{e(l)==="tokens"&&ee(ue)})}o(z),I(()=>{d(z,`padding-top: 1.5rem; margin-top: 1.5rem; border-top: 1px solid ${r(()=>t.border)??""};`),d(le,`color: ${r(()=>t.dark)??""}; font-weight: 500; font-size: 0.9rem;`),d(ae,`font-size: 0.9rem; font-weight: 600; color: ${r(()=>t.primary)??""}; background-color: ${r(()=>t.light)??""}; padding: 0.25rem 0.75rem; border-radius: 4px;`),T(q,e(p)),rr(J,"max",(e(i),r(()=>e(i).contextWindow))),d(J,`width: 100%; accent-color: ${r(()=>t.primary)??""};`)}),cr(J,()=>e(p),ee=>j(p,ee)),C(de,z)};G(Le,de=>{(e(l)==="tokens"||e(l)==="hybrid")&&de(We)})}o(k),I(()=>{d(k,`background-color: ${r(()=>t.cardBg)??""}; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: ${r(()=>t.isDark?"0 2px 8px rgba(0,0,0,0.4)":"0 2px 8px rgba(0,0,0,0.1)")??""}; border: 2px solid ${r(()=>t.border)??""};`),d(P,`margin: 0; color: ${r(()=>t.dark)??""}; font-size: 1.1rem;`),d(E,`background: none; border: none; color: ${r(()=>t.dark)??""}; cursor: pointer; font-size: 1.5rem; line-height: 1; padding: 0;`),d(y,`display: block; margin-bottom: 0.5rem; color: ${r(()=>t.dark)??""}; font-weight: 600; font-size: 0.95rem;`),d(H,`width: 100%; padding: 0.75rem; border-radius: 8px; border: 2px solid ${r(()=>t.border)??""}; font-size: 0.95rem; background-color: ${r(()=>t.isDark?t.background:"white")??""}; color: ${r(()=>t.dark)??""}; cursor: pointer; font-weight: 500;`),d(B,`margin-top: 0.75rem; padding: 1rem; background-color: ${r(()=>t.light)??""}; border-radius: 8px; border: 1px solid ${r(()=>t.primary)??""}30;`),d(Q,`font-size: 0.8rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-bottom: 0.25rem; font-weight: 600; text-transform: uppercase;`),d(ce,`font-size: 0.85rem; color: ${r(()=>t.dark)??""}; margin-bottom: 0.5rem; font-family: monospace;`),T(ke,(e(i),r(()=>e(i).model))),d(ge,`font-size: 0.85rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(Ne,(e(i),r(()=>e(i).description))),d(Ce,`margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid ${r(()=>t.primary)??""}20;`),d(R,`font-size: 0.75rem; font-weight: 600; color: ${r(()=>t.accent)??""}; background-color: ${r(()=>t.isDark?t.background:"white")??""}; padding: 0.25rem 0.5rem; border-radius: 4px;`),T(se,`Context Window: ${e(i),r(()=>e(i).contextWindow)??""} tokens`),d(Fe,`display: block; margin-bottom: 0.5rem; color: ${r(()=>t.dark)??""}; font-weight: 600; font-size: 0.95rem;`)}),re("click",E,()=>j(x,!1)),qa(H,()=>e(m),de=>j(m,de)),C(g,k)};G(oe,g=>{e(x)&&g($e)})}var K=u(oe,2),Ae=s(K),Ee=s(Ae),De=u(Ee,2);o(Ae);var Re=u(Ae,2),Pe=s(Re),Ue=s(Pe),Ge=u(Ue,2),Wr=s(Ge,!0);o(Ge);var ar=u(Ge,2),Or=s(ar,!0);o(ar),o(Pe);var br=u(Pe,2),_r=s(br),Ve=u(_r,2),Pr=s(Ve,!0);o(Ve);var tr=u(Ve,2),Br=s(tr);{var Nr=g=>{var k=Za(),f=Me(k),P=u(f);{var E=_=>{var w=ze();I(()=>T(w,`, ${e(h)??""} overlap`)),C(_,w)};G(P,_=>{e(l)==="tokens"&&e(h)>0&&_(E)})}I(()=>T(f,`${e(p)??""} tokens/chunk`)),C(g,k)},qr=g=>{var k=je(),f=Me(k);{var P=_=>{var w=ze("Split on double line breaks");C(_,w)},E=_=>{var w=je(),y=Me(w);{var H=B=>{var Q=ze("Split on sentence boundaries");C(B,Q)};G(y,B=>{e(l)==="sentence"&&B(H)},!0)}C(_,w)};G(f,_=>{e(l)==="paragraph"?_(P):_(E,!1)},!0)}C(g,k)};G(Br,g=>{e(l)==="tokens"||e(l)==="hybrid"?g(Nr):g(qr,!1)})}o(tr),o(br),o(Re),o(K);var hr=u(K,2);{var Ir=g=>{var k=et(),f=s(k),P=s(f),E=s(P),_=u(E,2),w=s(_,!0);o(_),o(P);var y=u(P,2),H=s(y),B=u(H,2),Q=s(B,!0);o(B),o(y),o(f);var ce=u(f,2);o(k),I(ke=>{d(k,`background-color: ${r(()=>t.cardBg)??""}; border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; box-shadow: ${r(()=>t.isDark?"0 2px 8px rgba(0,0,0,0.4)":"0 2px 8px rgba(0,0,0,0.1)")??""}; border: 2px solid ${r(()=>t.border)??""}; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;`),d(E,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; text-transform: uppercase; font-weight: 600;`),d(_,`font-size: 1.5rem; font-weight: bold; color: ${r(()=>t.primary)??""};`),T(w,(e(c),r(()=>e(c).length))),d(H,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; text-transform: uppercase; font-weight: 600;`),d(B,`font-size: 1.5rem; font-weight: bold; color: ${r(()=>t.accent)??""};`),T(Q,ke),d(ce,`font-size: 0.85rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`)},[()=>(e(c),r(()=>Math.round(e(c).reduce((ke,ge)=>ke+ge.split(/\s+/).length,0)/e(c).length)))]),C(g,k)};G(hr,g=>{e(c),r(()=>e(c).length>0)&&g(Ir)})}var Qe=u(hr,2),Be=s(Qe),ir=s(Be),Ye=s(ir),jr=s(Ye,!0);o(Ye);var kr=u(Ye,2),nr=s(kr),Hr=u(nr,2);{var Rr=g=>{var k=rt(),f=s(k,!0);o(k),I(()=>{d(k,`padding: 0.5rem 1rem; background-color: ${r(()=>t.primary)??""}; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;`),T(f,e(b)?"Done":"Edit Text")}),re("click",k,L),C(g,k)};G(Hr,g=>{e(v)!==""&&g(Rr)})}o(kr),o(ir);var Ur=u(ir,2);{var Gr=g=>{var k=at(),f=s(k);Ma(f);var P=u(f,2),E=s(P);{var _=y=>{var H=ze('Paste text above or click "Load Sample" to get started');C(y,H)},w=y=>{var H=ze();I(B=>T(H,`Characters: ${e(v),r(()=>e(v).length)??""} | Words: ${B??""}`),[()=>(e(v),r(()=>e(v).split(/\s+/).filter(B=>B).length))]),C(y,H)};G(E,y=>{e(v)===""?y(_):y(w,!1)})}o(P),o(k),I(()=>{d(f,`width: 100%; height: 400px; padding: 1rem; border-radius: 8px; border: 2px solid ${r(()=>t.border)??""}; font-size: 1rem; font-family: inherit; resize: vertical; box-sizing: border-box; line-height: 1.7; background-color: ${r(()=>t.isDark?t.background:"white")??""}; color: ${r(()=>t.dark)??""};`),d(P,`margin-top: 0.75rem; font-size: 0.85rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`)}),cr(f,()=>e(v),y=>j(v,y)),re("blur",f,D),C(g,k)},Vr=g=>{var k=st();Ke(k,5,()=>e(c),Xe,(f,P,E)=>{const _=Se(()=>e(F)===E||e(A)===E),w=Se(()=>($(Ze),r(()=>Ze(E,t)))),y=Se(()=>($(er),e(P),e(l),e(p),e(h),r(()=>er(e(P),e(l),e(p),e(h))))),H=Se(()=>($(e(y)),r(()=>ne(e(y).quality))));var B=ot(),Q=Me(B),ce=s(Q);{var ke=R=>{var se=it(),be=s(se);be.textContent=`Chunk ${E+1}`;var Fe=u(be,2),xe=s(Fe),Le=s(xe),We=u(Le,2),de=s(We);o(We),o(xe);var z=u(xe,2),N=s(z),Z=u(N,2),le=s(Z,!0);o(Z),o(z);var ae=u(z,2),q=s(ae),J=u(q,2),_e=s(J,!0);o(J),o(ae);var ue=u(ae,2);{var ee=Y=>{var ie=tt(),Oe=s(ie),Je=u(Oe,2),qe=s(Je);o(Je),o(ie),I(()=>{d(Oe,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(qe,`${$(e(y)),r(()=>e(y).overlapTokens)??""} tokens`)}),C(Y,ie)};G(ue,Y=>{$(e(y)),r(()=>e(y).overlapTokens>0)&&Y(ee)})}var O=u(ue,2),U=s(O),pe=u(U,2),te=s(pe,!0);o(pe),o(O),o(Fe);var ye=u(Fe,2);o(se),I(()=>{d(se,`position: absolute; top: -7.5rem; left: 0; font-size: 0.75rem; font-weight: 500; color: ${r(()=>t.dark)??""}; background-color: ${r(()=>t.cardBg)??""}; padding: 0.75rem; border-radius: 6px; border: 2px solid ${$(e(w)),r(()=>e(w).border)??""}; white-space: nowrap; z-index: 10; box-shadow: ${r(()=>t.isDark?"0 4px 12px rgba(0,0,0,0.6)":"0 4px 12px rgba(0,0,0,0.15)")??""}; min-width: 200px;`),d(be,`font-size: 0.7rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;`),d(Le,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(de,`${$(e(y)),r(()=>e(y).estimatedTokens)??""}/${e(p)??""} (${$(e(y)),r(()=>e(y).utilization)??""}%)`),d(N,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(le,($(e(y)),r(()=>e(y).words))),d(q,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(_e,($(e(y)),r(()=>e(y).sentences))),d(O,`display: flex; justify-content: space-between; margin-top: 0.25rem; padding-top: 0.5rem; border-top: 1px solid ${r(()=>t.border)??""};`),d(U,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),d(pe,`font-weight: 600; color: ${e(H)??""};`),T(te,($(e(y)),r(()=>e(y).quality))),d(ye,`margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid ${r(()=>t.border)??""}; font-size: 0.7rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; text-align: center;`)}),C(R,se)};G(ce,R=>{e(F)===E&&e(A)!==E&&R(ke)})}var ge=u(ce);o(Q);var Ne=u(Q,2);{var Ce=R=>{var se=nt();I(()=>d(se,`display: inline-block; width: 1.5rem; height: 1px; background-color: ${r(()=>t.primary)??""}; margin: 0 0.5rem; vertical-align: middle; opacity: 0.3;`)),C(R,se)};G(Ne,R=>{e(c),r(()=>E<e(c).length-1)&&R(Ce)})}I(()=>{d(Q,`background-color: ${$(e(w)),r(()=>e(w).bg)??""}; background-image: ${$(e(_)),$(e(w)),r(()=>e(_)?`linear-gradient(90deg, ${e(w).border}22 0%, ${e(w).border}11 100%)`:"none")??""}; border-left: ${$(e(_)),$(e(w)),r(()=>e(_)?`4px solid ${e(w).border}`:`2px solid ${e(w).border}`)??""}; border-right: ${$(e(_)),$(e(w)),r(()=>e(_)?`4px solid ${e(w).border}`:`2px solid ${e(w).border}`)??""}; padding-left: ${e(_)?"0.5rem":"0.25rem"}; padding-right: ${e(_)?"0.5rem":"0.25rem"}; margin-left: ${e(_)?"-0.25rem":"0"}; margin-right: ${e(_)?"-0.25rem":"0"}; border-radius: 4px; transition: all 0.2s ease; cursor: pointer; display: inline-block; position: relative; box-shadow: ${$(e(_)),r(()=>e(_)?t.isDark?"0 2px 8px rgba(0,0,0,0.6)":"0 2px 8px rgba(0,0,0,0.1)":"none")??""}; transform: ${e(_)?"scale(1.01)":"scale(1)"};`),T(ge,` ${e(P)??""}`)}),re("mouseenter",Q,()=>j(F,E)),re("mouseleave",Q,()=>j(F,null)),re("click",Q,R=>{R.stopPropagation(),j(A,E===e(A)?null:E)}),re("keydown",Q,R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),j(A,E===e(A)?null:E))}),C(f,B)}),o(k),I(()=>d(k,`font-size: 1rem; line-height: 1.8; color: ${r(()=>t.dark)??""}; white-space: pre-wrap; word-wrap: break-word;`)),C(g,k)};G(Ur,g=>{e(v)===""||e(b)?g(Gr):g(Vr,!1)})}o(Be);var Qr=u(Be,2);{var Yr=g=>{const k=Se(()=>($(Ze),e(A),r(()=>Ze(e(A),t)))),f=Se(()=>($(er),e(c),e(A),e(l),e(p),e(h),r(()=>er(e(c)[e(A)],e(l),e(p),e(h))))),P=Se(()=>($(e(f)),r(()=>ne(e(f).quality))));var E=vt(),_=s(E),w=s(_),y=s(w);o(w);var H=u(w,2);o(_);var B=u(_,2),Q=s(B),ce=s(Q),ke=u(ce,2);Ke(ke,5,()=>($(e(f)),e(p),r(()=>[["Tokens",`${e(f).estimatedTokens}/${e(p)}`],["Utilization",`${e(f).utilization}%`],["Words",e(f).words],["Characters",e(f).chars],["Sentences",e(f).sentences],["Tokens/Word",(e(f).estimatedTokens/e(f).words).toFixed(2)]])),Xe,(q,J)=>{var _e=La(()=>Wa(e(J),2));let ue=()=>e(_e)[0],ee=()=>e(_e)[1];var O=dt(),U=s(O),pe=s(U,!0);o(U);var te=u(U,2),ye=s(te,!0);o(te),o(O),I(()=>{d(O,`display: flex; justify-content: space-between; padding: 0.5rem; background-color: ${r(()=>t.cardBg)??""}; border-radius: 4px;`),d(U,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),T(pe,ue()),d(te,`font-weight: 600; color: ${r(()=>t.dark)??""};`),T(ye,ee())}),C(q,O)}),o(ke),o(Q);var ge=u(Q,2);{var Ne=q=>{var J=lt(),_e=s(J),ue=u(_e,2),ee=s(ue),O=s(ee),U=u(O,2),pe=s(U);o(U),o(ee);var te=u(ee,2),ye=s(te),Y=u(ye,2),ie=s(Y);o(Y),o(te),o(ue),o(J),I(Oe=>{d(_e,`margin: 0 0 0.75rem 0; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;`),d(ue,`padding: 0.75rem; background-color: ${r(()=>t.cardBg)??""}; border-radius: 4px;`),d(O,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),d(U,`font-weight: 600; color: ${r(()=>t.dark)??""};`),T(pe,`${$(e(f)),r(()=>e(f).overlapTokens)??""} tokens`),d(ye,`color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""};`),d(Y,`font-weight: 600; color: ${r(()=>t.dark)??""};`),T(ie,`${Oe??""}%`)},[()=>($(e(f)),r(()=>Math.round(e(f).overlapTokens/e(f).estimatedTokens*100)))]),C(q,J)};G(ge,q=>{$(e(f)),r(()=>e(f).overlapTokens>0)&&q(Ne)})}var Ce=u(ge,2),R=s(Ce),se=u(R,2),be=s(se),Fe=s(be,!0);o(be);var xe=u(be,2),Le=s(xe);{var We=q=>{var J=ze("Optimal token utilization with clean sentence boundaries.");C(q,J)},de=q=>{var J=je(),_e=Me(J);{var ue=O=>{var U=ze("Acceptable chunking with reasonable token usage.");C(O,U)},ee=O=>{var U=je(),pe=Me(U);{var te=Y=>{var ie=ze("Chunk splits mid-sentence. Consider adjusting strategy.");C(Y,ie)},ye=Y=>{var ie=je(),Oe=Me(ie);{var Je=qe=>{var Jr=ze("Low context utilization. Consider smaller chunk size.");C(qe,Jr)};G(Oe,qe=>{$(e(f)),r(()=>e(f).quality==="Low")&&qe(Je)},!0)}C(Y,ie)};G(pe,Y=>{$(e(f)),r(()=>e(f).quality==="Warning")?Y(te):Y(ye,!1)},!0)}C(O,U)};G(_e,O=>{$(e(f)),r(()=>e(f).quality==="Good")?O(ue):O(ee,!1)},!0)}C(q,J)};G(Le,q=>{$(e(f)),r(()=>e(f).quality==="Excellent")?q(We):q(de,!1)})}o(xe),o(se),o(Ce);var z=u(Ce,2),N=s(z),Z=u(N,2),le=s(Z),ae=u(le,2);o(Z),o(z),o(B),o(E),I(()=>{d(E,`flex: 0 0 33%; background-color: ${$(e(k)),r(()=>e(k).bg)??""}; border-radius: 8px; padding: 1.5rem; border: 2px solid ${$(e(k)),r(()=>e(k).border)??""}; max-height: 600px; overflow-y: auto;`),d(w,`margin: 0; color: ${r(()=>t.dark)??""}; font-size: 1.1rem;`),T(y,`Chunk ${e(A)+1} Details`),d(H,`background: none; border: none; color: ${r(()=>t.dark)??""}; cursor: pointer; font-size: 1.5rem; line-height: 1; padding: 0;`),d(ce,`margin: 0 0 0.75rem 0; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;`),d(R,`margin: 0 0 0.75rem 0; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;`),d(se,`padding: 0.75rem; background-color: ${r(()=>t.cardBg)??""}; border-radius: 4px;`),d(be,`display: inline-block; padding: 0.5rem 1rem; background-color: ${e(P)??""}20; color: ${e(P)??""}; border-radius: 6px; font-weight: 600; font-size: 1rem;`),T(Fe,($(e(f)),r(()=>e(f).quality))),d(xe,`margin-top: 0.75rem; font-size: 0.85rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; line-height: 1.5;`),d(N,`margin: 0 0 0.75rem 0; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;`),d(le,`padding: 0.75rem; background-color: ${r(()=>t.accent)??""}; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 500;`),d(ae,`padding: 0.75rem; background-color: ${r(()=>t.primary)??""}; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 500;`)}),re("click",H,()=>j(A,null)),re("click",le,()=>M(e(c)[e(A)])),re("click",ae,()=>{const q={chunk_id:e(A),text:e(c)[e(A)],metadata:e(f)};M(JSON.stringify(q,null,2))}),C(g,E)};G(Qr,g=>{e(A),e(c),r(()=>e(A)!==null&&e(c)[e(A)])&&g(Yr)})}o(Qe),o(ve),o(V),I(g=>{d(V,`background-color: ${r(()=>t.background)??""}; min-height: 100vh; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;`),d(W,`background-color: ${r(()=>t.primary)??""}; color: white; padding: 1.5rem 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);`),d(K,`background-color: ${r(()=>t.cardBg)??""}; border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; box-shadow: ${r(()=>t.isDark?"0 2px 8px rgba(0,0,0,0.4)":"0 2px 8px rgba(0,0,0,0.1)")??""}; border: 2px solid ${r(()=>t.border)??""};`),d(Ee,`margin: 0; color: ${r(()=>t.dark)??""}; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;`),d(De,`padding: 0.25rem 0.75rem; background-color: ${r(()=>t.light)??""}; border: 1px solid ${r(()=>t.border)??""}; border-radius: 6px; cursor: pointer; font-size: 0.75rem; color: ${r(()=>t.dark)??""}; font-weight: 500;`),d(Ue,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-bottom: 0.25rem;`),d(Ge,`font-size: 0.9rem; font-weight: 600; color: ${r(()=>t.dark)??""};`),T(Wr,(e(i),r(()=>e(i).name))),d(ar,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; font-family: monospace; margin-top: 0.125rem;`),T(Or,(e(i),r(()=>e(i).model))),d(_r,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-bottom: 0.25rem;`),d(Ve,`font-size: 0.9rem; font-weight: 600; color: ${r(()=>t.dark)??""};`),T(Pr,g),d(tr,`font-size: 0.75rem; color: ${r(()=>t.isDark?"#9CA3AF":"#6b7280")??""}; margin-top: 0.125rem;`),d(Qe,`background-color: ${r(()=>t.cardBg)??""}; border-radius: 12px; padding: 1.5rem; box-shadow: ${r(()=>t.isDark?"0 2px 8px rgba(0,0,0,0.4)":"0 2px 8px rgba(0,0,0,0.1)")??""}; border: 2px solid ${r(()=>t.border)??""}; min-height: 500px; display: flex; gap: 1.5rem;`),d(Be,`flex: ${e(A)!==null?"0 0 65%":"1"};`),d(Ye,`margin: 0; color: ${r(()=>t.dark)??""};`),T(jr,e(v)===""?"Enter Text":e(b)?"Edit Text":"Text with Chunking Overlay"),d(nr,`padding: 0.5rem 1rem; background-color: ${r(()=>t.accent)??""}; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;`)},[()=>($(fr),e(l),r(()=>fr.find(g=>g.id===e(l)).name))]),re("click",De,()=>j(x,!e(x))),re("click",nr,()=>j(v,he)),re("click",Be,g=>{g.target.closest('span[role="button"]')===null&&!e(b)&&j(A,null)}),re("click",Qe,g=>{g.target===g.currentTarget&&j(A,null)}),C(a,V),Fa()}export{_t as component,bt as universal};
